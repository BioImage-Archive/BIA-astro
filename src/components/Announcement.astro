---
import { getCollection } from "astro:content";
const items = await getCollection("announcements");
---
<section class="vf-u-fullbleed" style="padding: 1% 1%;margin-left: 10%; margin-right: 10%;">
    {await Promise.all(items.map(async (announcement) => {
        const { Content } = await announcement.render();
        return (
            <div class={announcement.data.className} style="padding: 1%;">
                <button aria-label="Close" onclick="remove(this)" style="position: relative;float:right;display:inline-block;top:0px;background: none;border: none;font-size: 20px;font-weight: bold;cursor: pointer;line-height: 1;">Ã—</button>
                <h2 class="vf-text vf-text-heading--2">{announcement.data.title}</h2>
                <div class="vf-banner__content"><p class="vf-banner__text"><Content /></p></div>
            </div>
        );
    }))}
</section>

  <script is:inline>
  function remove(el) {
  var element = el.parentNode;
  element.remove();
}
</script>